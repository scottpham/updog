"use strict";var app=app||{},Dogs=Backbone.Model.extend({defaults:function(){return{timeIncrementer:0,clickDoges:0,clickIncrementer:1,count:0,clickerCost:10,dps:0}},stopAutoClick:function(){try{window.clearInterval(this.autoClicker)}catch(a){console.log(a)}},calculateDPS:function(a){var b=(this.get("dps"),this.get("timeIncrementer")),c=1/(a/1e3);this.set("dps",c+b)},formatter:function(a){return Math.floor(a)},increaseCost:function(){var a=this.get("clickerCost"),b=(this.get("clickDoges"),1.3*a);this.set("clickerCost",this.formatter(b))},setClickDoge:function(){var a=this.get("clickDoges"),b=1e4/a;this.stopAutoClick(),this.autoClicker=window.setInterval(this.clickIncrement.bind(this),b),console.log("doges are clicking every "+b+"miliseconds"),this.calculateDPS(b)},buyClickDoge:function(){console.log("buy click doge ran");var a=this.get("count"),b=this.get("clickerCost");if(b>a)return void alert("not enough dogs");this.set("count",a-b);var c=this.get("clickDoges")+1;this.set({clickDoges:c}),this.setClickDoge(),this.increaseCost()},timeIncrement:function(){var a=this.get("count")+this.get("incrementer");this.set({count:a})},clickIncrement:function(){console.log("clickIncrement fired");var a=this.get("count")+this.get("clickIncrementer");this.set({count:a})}}),Dps=Backbone.View.extend({template:_.template($("#dpsTemplate").html()),initialize:function(){this.render(),this.listenTo(this.model,"change",this.render)},render:function(){this.$el.html(this.template(this.model.toJSON())),this.delegateEvents()}}),Clicker=Backbone.View.extend({initialize:function(){this.render()},events:{click:"handleClick"},handleClick:function(){this.model.clickIncrement()},render:function(){return this.$el.empty(),this.delegateEvents(),this}}),CounterView=Backbone.View.extend({template:_.template($("#counterTemplate").html()),render:function(){return this.$el.html(this.template(this.model.toJSON())),this.delegateEvents(),this},initialize:function(){this.listenTo(this.model,"change",this.render),this.render()}}),BuyClickView=Backbone.View.extend({template:_.template($("#buyClickDogeTemplate").html()),initialize:function(){this.render(),this.listenTo(this.model,"change",this.render)},events:{click:"handleClick"},handleClick:function(){this.model.buyClickDoge()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.delegateEvents(),this}}),ShowClickDoges=Backbone.View.extend({template:_.template($("#clickDogeCounterTemplate").html()),initialize:function(){this.listenTo(this.model,"change",this.render),this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this.delegateEvents(),this}}),MainView=Backbone.View.extend({el:$("#backboneEl"),template:_.template($("#template").html()),initialize:function(){this.render(),this.clicker=new Clicker({el:$("#clicker"),model:this.model}),this.counter=new CounterView({el:$("#counter"),model:this.model}),this.buyClick=new BuyClickView({el:$("#buyClickDoge"),model:this.model}),this.showClickDoges=new ShowClickDoges({el:$("#clickerCounter"),model:this.model}),this.dps=new Dps({el:$("#dps"),model:this.model})},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),dogs=new Dogs,main=new MainView({model:dogs});